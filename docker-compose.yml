services:
  a1111:
    image: stable-diffusion-webui:latest
    container_name: a1111
    ports:
      - "7860:7860"
    volumes:
      - ./configs:/workspace/stable-diffusion-webui/configs
      - ./models:/workspace/stable-diffusion-webui/models
      - ./outputs:/workspace/stable-diffusion-webui/outputs
      - ./extensions:/workspace/stable-diffusion-webui/extensions
    environment:
      - CLI_ARGS=--skip-torch-cuda-test --xformers --opt-sdp-attention --listen --port 7860 --enable-insecure-extension-access
    restart: unless-stopped
